# 캐시 성능 보고서

## 개요

- 최근 인기 상품 조회 기능은 데이터 변경 빈도가 적으나 조회 빈도는 높고, 상대적으로 쿼리 조회 속도가 오래 소요 됨.
- 캐시 활용에 적합한 기능으로 판단, 캐시 적용을 통해 조회 성능 개선 및 DB 부하 감소

## 문제

- 최근 인기 상품 데이터는 조회 빈도는 높고 매일 자정 기준으로 갱신 됨에 따라 데이터 변경 빈도는 적음
- GROUP BY, SUM 등 집계 함수가 들어가기 때문에 조회 시간이 일반적인 경우보다 오래 소요
- 조회 마다 매번 같은 상품 리스트를 보여주는데 계속 DB에 접근해서 조회를 하는 것은 불필요한 리소스 낭비

## 캐싱 전략

- Service 레이어의 인기 상품 조회 메서드에 @Cacheable 적용하여 캐시가 존재할 경우 DB에 접근 하지 않고 캐시에서 데이터 조회
- 키 값은 고정으로 사용 (topSellingProduct)
- 인기 상품은 매일 자정 기준으로 갱신 @Scheduled(cron = "0 0 0 * * *") 스케쥴을 통해 자정마다 @CacheEvict 적용한 메서드 실행하여 인기 상품 조회 캐시 제거 → 이후 접근한 사용자는 DB 조회 후 캐시 저장

## 성능 측정

- 통합 테스트 작성하여 인기 상품 조회 기능 두 번 호출 → 캐시 적용으로 한 번만 호출 됨 확인
  ![image (1)](https://github.com/user-attachments/assets/95af5f10-eba8-42d4-8662-854fe42c046f)


- 캐시 사용 전 DB 직접 조회 시 응답 시간 253ms
- 캐시 사용 후 응답 시간 48ms
![image (2)](https://github.com/user-attachments/assets/0274584e-b5df-4f56-b8bf-bd1445c9772a)


## 결과

- 불필요한 DB 부하 감소
- 응답 시간 약 80% 단축
